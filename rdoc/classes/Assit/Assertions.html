<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Assit::Assertions</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Assit::Assertions</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/assit/assertions_rb.html">
                lib/assit/assertions.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
Contains the assertion methods for the framework
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000008">assit_block</a>&nbsp;&nbsp;
      <a href="#M000003">assit_equal</a>&nbsp;&nbsp;
      <a href="#M000005">assit_fail</a>&nbsp;&nbsp;
      <a href="#M000004">assit_kind_of</a>&nbsp;&nbsp;
      <a href="#M000002">assit_not_nil</a>&nbsp;&nbsp;
      <a href="#M000006">assit_quack</a>&nbsp;&nbsp;
      <a href="#M000007">assit_real_string</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000008" class="method-detail">
        <a name="M000008"></a>

        <div class="method-heading">
          <a href="#M000008" class="method-signature">
          <span class="method-name">assit_block</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Executes the given block and asserts if the result is true. This allows you
to assert on complex, custom expressions and be able to disable those
expressions together with the assertions. See the README for more.
</p>
<p>
The block will be passed a single array, to which error messages can be
append. The assertion will always fail if an error is appended to the
array.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000008-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000008-source">
<pre>
    <span class="ruby-comment cmt"># File lib/assit/assertions.rb, line 64</span>
64:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assit_block</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
65:       <span class="ruby-identifier">errors</span> = []
66:       <span class="ruby-identifier">assit</span>((<span class="ruby-identifier">block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">errors</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>), <span class="ruby-identifier">errors</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">', '</span>))
67:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000003" class="method-detail">
        <a name="M000003"></a>

        <div class="method-heading">
          <a href="#M000003" class="method-signature">
          <span class="method-name">assit_equal</span><span class="method-args">(expected, actual, message = &quot;Object expected to be equal&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Assert if two objects are equal
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000003-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000003-source">
<pre>
    <span class="ruby-comment cmt"># File lib/assit/assertions.rb, line 12</span>
12:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assit_equal</span>(<span class="ruby-identifier">expected</span>, <span class="ruby-identifier">actual</span>, <span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;Object expected to be equal&quot;</span>)
13:       <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">expected</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">actual</span>)
14:         <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; expected #{expected} but was #{actual}&quot;</span>
15:         <span class="ruby-identifier">assit</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">message</span>)
16:       <span class="ruby-keyword kw">end</span>
17:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000005" class="method-detail">
        <a name="M000005"></a>

        <div class="method-heading">
          <a href="#M000005" class="method-signature">
          <span class="method-name">assit_fail</span><span class="method-args">(message = &quot;Assertion with assit_fail&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Fails the assertion
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000005-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000005-source">
<pre>
    <span class="ruby-comment cmt"># File lib/assit/assertions.rb, line 28</span>
28:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assit_fail</span>(<span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;Assertion with assit_fail&quot;</span>)
29:       <span class="ruby-identifier">assit</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">message</span>)
30:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000004" class="method-detail">
        <a name="M000004"></a>

        <div class="method-heading">
          <a href="#M000004" class="method-signature">
          <span class="method-name">assit_kind_of</span><span class="method-args">(klass, object, message = &quot;Object of wrong type&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Assert if something is of the right type
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000004-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000004-source">
<pre>
    <span class="ruby-comment cmt"># File lib/assit/assertions.rb, line 20</span>
20:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assit_kind_of</span>(<span class="ruby-identifier">klass</span>, <span class="ruby-identifier">object</span>, <span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;Object of wrong type&quot;</span>)
21:       <span class="ruby-keyword kw">if</span>(<span class="ruby-operator">!</span><span class="ruby-identifier">object</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-identifier">klass</span>))
22:         <span class="ruby-identifier">message</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; (Expected #{klass} but was #{object.class})&quot;</span>
23:         <span class="ruby-identifier">assit</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">message</span>)
24:       <span class="ruby-keyword kw">end</span>
25:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000002" class="method-detail">
        <a name="M000002"></a>

        <div class="method-heading">
          <a href="#M000002" class="method-signature">
          <span class="method-name">assit_not_nil</span><span class="method-args">(object, message = &quot;Object is nil&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Assert if an object is not nil
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000002-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000002-source">
<pre>
   <span class="ruby-comment cmt"># File lib/assit/assertions.rb, line 7</span>
7:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assit_not_nil</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;Object is nil&quot;</span>)
8:       <span class="ruby-identifier">assit</span>(<span class="ruby-identifier">object</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">message</span>)
9:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000006" class="method-detail">
        <a name="M000006"></a>

        <div class="method-heading">
          <a href="#M000006" class="method-signature">
          <span class="method-name">assit_quack</span><span class="method-args">(object, methods, message = &quot;Quack assert failed.&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Duck typing assertion: This checks if the given object responds to the
given method calls. This won&#8216;t detect any calls that will be handled
through method_missing, of course.
</p>
<p>
Methods can be a single method name, or an Enumerable with multiple names
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000006-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000006-source">
<pre>
    <span class="ruby-comment cmt"># File lib/assit/assertions.rb, line 37</span>
37:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assit_quack</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">methods</span>, <span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;Quack assert failed.&quot;</span>)
38:       <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">methods</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Enumerable</span>))
39:         <span class="ruby-identifier">methods</span> = [<span class="ruby-identifier">methods</span>]
40:       <span class="ruby-keyword kw">end</span>
41:       
42:       <span class="ruby-identifier">methods</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">method</span><span class="ruby-operator">|</span>
43:         <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">object</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">method</span>.<span class="ruby-identifier">to_sym</span>))
44:           <span class="ruby-identifier">assit</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-node">&quot;#{message} - Method: #{method.to_s}&quot;</span>)
45:         <span class="ruby-keyword kw">end</span>
46:       <span class="ruby-keyword kw">end</span>
47:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000007" class="method-detail">
        <a name="M000007"></a>

        <div class="method-heading">
          <a href="#M000007" class="method-signature">
          <span class="method-name">assit_real_string</span><span class="method-args">(object, message = &quot;Not a non-empty string.&quot;)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Asserts that the given element is a string that is not nil and not an empty
string, or a string only containing whitspaces
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000007-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000007-source">
<pre>
    <span class="ruby-comment cmt"># File lib/assit/assertions.rb, line 51</span>
51:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">assit_real_string</span>(<span class="ruby-identifier">object</span>, <span class="ruby-identifier">message</span> = <span class="ruby-value str">&quot;Not a non-empty string.&quot;</span>)
52:       <span class="ruby-keyword kw">unless</span>(<span class="ruby-identifier">object</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">object</span>.<span class="ruby-identifier">strip</span> <span class="ruby-operator">!=</span> <span class="ruby-value str">&quot;&quot;</span>)
53:         <span class="ruby-identifier">assit</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">message</span>)
54:       <span class="ruby-keyword kw">end</span>
55:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>